appId: com.heroicgameslauncher.hgl
productName: Heroic
files:
  - build/**/*
  - node_modules/**/*
  - '!build/bin/*'
  - build/bin/legendary.LICENSE

asarUnpack:
  - build/icon.png
  - build/icon.icns
  - build/mac-icon.icns
  - build/win_icon.ico
  - build/icon-dark.png
  - build/icon-light.png
  - build/bin/**/*
  - '!build/bin/legendary.LICENSE'

protocols:
  - name: heroic
    schemes:
      - heroic

win:
  artifactName: ${productName}-${version}-Setup-${arch}.${ext}
  icon: build/win_icon.ico
  target:
    - nsis
  files: build/bin/${arch}/win32/*

portable:
  artifactName: ${productName}-${version}-Portable-${arch}.${ext}

mac:
  artifactName: ${productName}-${version}-macOS-${arch}.${ext}
  category: public.app-category.games
  icon: build/mac-icon.icns
  entitlements: build/entitlements.mac.plist
  entitlementsInherit: build/entitlements.mac.plist
  extendInfo:
    com.apple.security.cs.allow-jit: true
  files:
    - build/bin/${arch}/darwin/*
    - build/bin/x64/win32/GalaxyCommunication.exe
    - build/bin/x64/win32/EpicGamesLauncher.exe

dmg:
  background: public/dmg.png
  window:
    width: 600
    height: 500
  contents:
    - x: 10
      y: 215
      type: file
    - x: 420
      y: 215
      type: link
      path: /Applications

linux:
  artifactName: ${productName}-${version}-linux-${arch}.${ext}
  category: Game
  icon: build/icon.icns
  desktop:
    entry:
      Name: Heroic
      Comment[de]: Ein OSS-Spielelauncher für GOG, Epic Games und Amazon Games
      Comment[pl]: Otwartoźródłowy launcher dla GOG, Epic Games i Amazon Games
      Comment[fr]: Un lanceur de jeux open source pour GOG, Epic Games et Amazon Games
      Comment[es]: Un lanzador de juegos de código abierto para GOG, Epic Games
      Comment[it]: Un launcher open source per GOG, Epic Games e Amazon Games
      Comment[ru]: Открытый лаунчер для GOG, Epic Games и Amazon
      Comment[zh_CN]: 一个用于GOG、Epic Games和Amazon Games的开源游戏启动器
      Comment[pt]: Um lançador de jogos de código aberto para GOG, Epic Games e Amazon Games
      Comment[pt_BR]: Um lançador de jogos de código aberto para GOG, Epic Games e Amazon Games
      Comment[ja]: GOG、Epic Games、Amazon Gamesのためのオープンソースランチャー
      Comment: An Open Source Launcher for GOG, Epic Games and Amazon Games
  files:
    - build/bin/${arch}/linux/*
    - build/bin/x64/win32/GalaxyCommunication.exe
    - build/bin/x64/win32/EpicGamesLauncher.exe

rpm:
  fpm: ['--rpm-rpmbuild-define', '_build_id_links none']

snap:
  base: core22
  confinement: strict
  grade: stable
  category: Games
  synopsis: An Open Source Launcher for GOG, Epic Games and Amazon Games
  description: Heroic is an Open Source Games Launcher. It supports launching games from the Epic Games, Amazon Games and GOG.
  plugs:
    - default
    - network-bind
    - screen-inhibit-control
    - removable-media
    - mount-observe
    - joystick
    - bluez
    - udisks2
  publish:
    provider: snapStore
    channels:
      - edge
    repo: heroic

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  perMachine: true
